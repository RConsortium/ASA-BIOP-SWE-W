---
title: "First year of the Software Engineering working group"
author: "Daniel SabanÃ©s BovÃ© (Roche) and Ya Wang (Gilead) on behalf of the working group"
date: "2023/09/06"
format: 
  pptx:
    incremental: true   
    toc: true
    toc-depth: 1
---

```{r setup}
#| include: false
#| echo: false
```

# Introducing the WG

## Software Engineering Working Group

::: columns
::: {.column width="50%"}
Founded last year: 

- When: 19 August 2022 - just celebrated our 1 year birthday!
- Where: American Statistical Association (ASA) Biopharmaceutical Section (BIOP)
- Who: 11 statisticians from 7 pharma companies developing statistical software
:::

::: {.column width="50%"}
![](https://github.com/RConsortium/asa-biop-swe-wg/raw/main/sticker/sticker-1200.png){height="300"}
:::
:::

## Why a new WG?

- Started with MMRM work
- Makes sense to stay together as a group also for other package projects
- New focus on good engineering practices and collaborative work
- Importance of reliable software for statistical analysis can not be underestimated
- Be rooted in the biostatistics community (rather than statistical programming)

## But there are other WGs?

- Comparing Analysis Method Implementations in Software (CAMIS) of PhUSE 
[ðŸŒŽ](https://advance.phuse.global/pages/viewpage.action?pageId=327874)
- Application and Implementation of Methodologies in Statistics (AIMS) Special Interest Group (SIG) of PSI [ðŸŒŽ](https://www.psiweb.org/sigs-special-interest-groups/aims)
- R Submission Working Group of R Consortium [ðŸŒŽ](https://rconsortium.github.io/submissions-wg/)
- R Tables for Regulatory Submissions Working Group of R Consortium [ðŸŒŽ](https://rconsortium.github.io/rtrs-wg/)
- R Certification working group of R Consortium [ðŸŒŽ](https://github.com/RConsortium/R-Certification-WG)
- R Repositories WG of R Consortium [ðŸŒŽ](https://github.com/RConsortium/r-repositories-wg)

## WG Objectives

- Primary: 
  - Engineer R packages that implement important statistical methods
  - ... to fill in gaps in the open-source statistical software landscape
  - ... focusing on what is needed for biopharmaceutical applications
- Secondary: 
  - Develop and disseminate best practices for engineering high-quality open-source statistical software
- By actively doing the statistical engineering work together, we align on best practices can communicate these to others

## Members and meetings

```{r calc-stats}
library(readr)
library(dplyr)
members <- read_csv("../data/members.csv") |> filter(SWE_WG_Member == 1)
n_members <- nrow(members)
unique_orgs <- members |> pull("Affiliation") |> unique() |> sort()
```

- Currently `r n_members` members
  - new members are welcome! (incl. academia/regulators/etc.)
- Currently `r length(unique_orgs)` organizations
  - `r paste(unique_orgs, collapse = ", ")`
- Meet every 2 weeks

## Workstreams

- Frequentist MMRM [ðŸŒŽ](https://rconsortium.github.io/asa-biop-swe-wg/mmrm_R_package.html)
  - Develop `mmrm` (see below)
- Bayesian MMRM [ðŸŒŽ](https://rconsortium.github.io/asa-biop-swe-wg/bayesian_mmrm_R_package.html)
  - Develop `brms.mmrm` (see below)
- Health Technology Assessment [ðŸŒŽ](https://github.com/hta-pharma/)
  - Develop open-source R tools to support crucial analytic topics in HTA dossier submission across various countries, particularly the topics with unmet needs in R implementation and/or related to EUnetHTA
- Note: Also "just" contributing to workstreams is great!

# Achievements in the first year

## New R packages released to CRAN

- `mmrm` 
  - R package for frequentist inference in mixed models with repeated measures (MMRM), based on `TMB`
  - See documentation [ðŸŒŽ](https://openpharma.github.io/mmrm/)
  - Easiest to install from CRAN [ðŸŒŽ](https://cran.r-project.org/package=mmrm)
- `brms.mmrm` 
  - R package for Bayesian inference in MMRM, based on `brms`
  - See documentation [ðŸŒŽ](https://openpharma.github.io/brms.mmrm/)
  - Easiest to install from CRAN [ðŸŒŽ](https://cran.r-project.org/package=brms.mmrm)

## Why was the MMRM topic important?

- MMRM is a popular analysis of longitudinal continuous outcomes in randomized clinical trials
- No tailored R package with sufficient capabilities/reliability
- Also used as backbone for more recent methods such as multiple imputation
- Have a look at Gonzaloâ€™s presentation to learn more about `mmrm`
  - 10.40 am in the following session 
  - compares `mmrm` with previous R packages and SAS

## Best practices

- Includes version control, git workflow, code review, unit testing, integration tests, continuous deployment, reproducibility, package design, object oriented programming, versioning, publication, etc.
- Workshop "Good Software Engineering Practice for R Packages" on world tour
  - Basel, Shanghai, San JosÃ©, Rockville MD, Montreal [ðŸŒŽ](https://openpharma.github.io/workshop-r-swe-mtl/)
- Start of video series "Statistical Software Engineering 101" [ðŸŒŽ](https://www.youtube.com/playlist?list=PL848NFA2PWgCR35n02yn1ZV7JqSu3NMxS)
  - currently 2 videos, hopefully we can still produce more content

## Conference contributions and Publications

- Dedicated sessions with discussions at ISCB, CEN (now), ASA/FDA workshop
- Presentations at PSI, JSM, Pharma RUG, BBS, etc. [ðŸŒŽ](https://rconsortium.github.io/asa-biop-swe-wg/presentations.html)
- BIOP Report [ðŸŒŽ](https://rconsortium.github.io/asa-biop-swe-wg/blog/biop_report/)
- Blog [ðŸŒŽ](https://rconsortium.github.io/asa-biop-swe-wg/blog.html)

# Ingredients for successful and sustainable collaboration

## Human factors

- Mutual interest
- Mutual trust
- Prerequisite is getting to know each other
  - Although mostly just online, biweekly calls help a lot with this
- Reciprocity mindset
  - First give away something, and more will come back to you

## Development process

- Different perspectives in discussions and code review help to optimize the user interface and thus experience
- Important to go public as soon as possible 
  - don't wait for the product to be finished
  - you never know who else might be interested/could help
- Version control with git
  - cornerstone of effective collaboration

## Coding standards

- Consistent and readable code style simplifies joint work
- Written (!) contribution guidelines
- Lowering the entry hurdle using developer calls

## Robust test suite

- Unit tests are essential for preventing regression and assuring quality
- Especially with compiled code critical to see if package works correctly
- Use continuous integration during development to make sure nothing breaks along the way

## Documentation

- Lots of work but extremely important 
  - often need to start with methods details write up before being able to code
- Needs to be kept up-to-date
- Need to have examples & vignettes
  - Testing alone is not sufficient 
  - Builds trust with users
  - Reference for developers over time

# Long term vision

## Statisticians have software engineering skills

- These skills are taught at university
- Statisticians can use basic practices in their daily work ...
- ... to ensure reproducibility of statistical analyses and research results
  
## Innovation does not stop with publication

- Methods research does not end when the first methods paper is published
- Initial prototype code as paper supplement is not sufficient
- Continue to developing open source and reliably tested software packages ...
- ... to enable users to easily use the new methodology in their own applications

## Industry develops common code base

- Increasingly companies work in the open source as much as possible
- Rather than repeating similar developments internally ...
- ... to become more cost-effective and transparent towards society

# Next steps

## Next steps

- New workstream on covariate adjustment is starting up
- Proposed to associate also with EFSPI to emphasize global nature of the group
- Find a new short and memorable name 
- Ensure a strong connection to the new pan-pharma methodology group
- Think more strategically about identifying gaps in the statistical software landscape

## Next steps (cont'd)

- Add more content to our video series 
- Help maintaining the CRAN Task View on Clinical Trials
- Start a chat channel to start informal discussions within larger community
- Organize hackathons working together on workstream packages e.g.

## Q&A {background-image="thank-you.jpg"}

<!-- Photo by Vie Studio [link](https://www.pexels.com/photo/thank-you-lettering-on-white-surface-4439457/) -->

